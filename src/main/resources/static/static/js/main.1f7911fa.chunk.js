(this.webpackJsonpweight_slot_app=this.webpackJsonpweight_slot_app||[]).push([[0],{149:function(e,t,a){e.exports=a(294)},154:function(e,t,a){},155:function(e,t,a){},213:function(e,t,a){},249:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},275:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),l=(a(154),a(11)),s=a(12),i=a(14),u=a(13),p=(a(155),a(52)),h=a(75),m=a(6),f={showTabBar:!0,enableTabBar:!1,globalTitle:"\u91cd\u529b\u8d27\u9053",routerPath:null,dashboardSlots:[],sensors:[],connections:[],user:{name:"MonolithIoT"}},d={},b=function(e,t){d[e]=t};b("tabBar.set",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{showTabBar:t.data})})),b("router.path.set",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{routerPath:t.data})})),b("dashboard.slot_data.fetch.async",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{dashboardSlots:t.data})})),b("title.set",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{globalTitle:t.data})})),b("sensors.fetch.async",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{sensors:t.data})})),b("sensor.elabel.toggle",(function(e,t){var a,n=e.sensors,o=t.data.sensorId,r=t.data.hasElabel,c=Object(h.a)(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l.id===o){l.hasElable=r;break}}}catch(s){c.e(s)}finally{c.f()}return Object(m.a)(Object(m.a)({},e),{},{sensors:JSON.parse(JSON.stringify(n))})})),b("connections.fetch.async",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{connections:t.data})})),b("connection.delete",(function(e,t){var a=t.data.id,n=e.connections.filter((function(e){return e.id!==a}));return Object(m.a)(Object(m.a)({},e),{},{connections:n})})),b("connection.delete",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{enableTabBar:t.data})}));var v=a(138),y=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):p.c)(Object(p.a)(v.a)),E=Object(p.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type;if(a in d){var n=d[a];return n(e,t)}return e}),y),O=a(16),k=(a(160),a(53)),g=a.n(k),j=(a(213),a(21)),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={path:"/"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.showTabBar&&this.props.enableTabBar,a=this.state.path;return t?o.a.createElement("div",{className:"appTabBar"},o.a.createElement(g.a,{unselectedTintColor:"#949494",tintColor:"#33A3F4",barTintColor:"white",hidden:!this.props.showTabBar,tabBarPosition:"bottom"},o.a.createElement(g.a.Item,{title:"Dashboard",selected:"/"===a,icon:o.a.createElement("i",{className:"iconfont buttonIcon"},"\ue64e"),selectedIcon:o.a.createElement("i",{className:"iconfont buttonIcon buttonIconChecked"},"\ue64e"),onPress:function(){return e.pushPath("/")}}),o.a.createElement(g.a.Item,{title:"Logs",selected:"/logs"===a,icon:o.a.createElement("i",{className:"iconfont buttonIcon"},"\ue60c"),selectedIcon:o.a.createElement("i",{className:"iconfont buttonIcon buttonIconChecked"},"\ue60c"),onPress:function(){return e.pushPath("/logs")}}),o.a.createElement(g.a.Item,{title:"Address",selected:"/address"===a,icon:o.a.createElement("i",{className:"iconfont buttonIcon"},"\ue61b"),selectedIcon:o.a.createElement("i",{className:"iconfont buttonIcon buttonIconChecked"},"\ue61b"),onPress:function(){return e.pushPath("/address")}}),o.a.createElement(g.a.Item,{title:"Setting",selected:"/setting"===a,icon:o.a.createElement("i",{className:"iconfont buttonIcon"},"\ue660"),selectedIcon:o.a.createElement("i",{className:"iconfont buttonIcon buttonIconChecked"},"\ue660"),onPress:function(){return e.pushPath("/setting")}}))):null}},{key:"pushPath",value:function(e){this.setState({path:e}),this.props.history.push({pathname:e})}}]),a}(o.a.Component),C=Object(j.f)(Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{showTabBar:e.showTabBar,enableTabBar:e.enableTabBar})}))(S)),w=(a(64),a(33)),T=a.n(w),N=(a(32),a(15)),P=a.n(N),I=(a(121),a(28)),B=a.n(I),D=(a(93),a(46)),x=a.n(D),L=(a(55),a(22)),A=a.n(L),M=(a(94),a(27)),V=a.n(M),_=a(70),U=(a(39),a(17)),H=a.n(U),R=a(143),F=a.n(R);var W=function(){H.a.hide()},Z=function(e){H.a.fail(e)};function K(e){return e.hideLoading||H.a.loading("Loading",0),new Promise((function(t,a){(function(e){return F()(e)})(e).then((function(e){if(W(),200!==e.status)return Z("Http Response Status:".concat(e.status)),void a(e);var n=e.data;if(200!==n.code)return Z("Error [".concat(n.code,"]:").concat(n.msg)),void a(e);t(n.data)})).catch((function(e){W();var t=e.toString();Z(t),a(e)}))}))}var z=function(e){return{type:"tabBar.set",data:e}},J=function(e){return{type:"title.set",data:e}},X=function(){return function(e){K({url:"/api/dashboard/slot-data",method:"get",hideLoading:!0}).then((function(t){var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push(t[n]);var o={type:"dashboard.slot_data.fetch.async",data:a.sort((function(e,t){return e.slotNo.localeCompare(t.slotNo)}))};e(o)}))}},Y=function(){return function(e){K({url:"/api/sensor/_with-slot",method:"get"}).then((function(t){e({type:"sensors.fetch.async",data:t})}))}},q=function(e,t){return function(a){new Promise((function(e,t){e()})).then((function(){a({type:"sensor.elabel.toggle",data:{sensorId:e,hasElabel:t}})}))}},$=function(){return function(e){K({url:"/api/connection/",method:"get"}).then((function(t){e({type:"connections.fetch.async",data:t})}))}},G=function(e){return function(t){(function(e){return K({url:"/api/connection/".concat(e),method:"delete"})})(e).then((function(){t({type:"connection.delete",data:{id:e}})}))}},Q=function(){return function(e){K({url:"/api/config/application.ui.enable_tabBar",method:"get"}).then((function(t){var a={type:"connection.delete",data:"true"===t.value};e(a)}))}},ee=function(e){return function(t){(function(e){return K({url:"/api/config/application.ui.enable_tabBar",method:"post",data:{value:e}})})(e).then((function(){t({type:"connection.delete",data:e})}))}},te=(a(249),function(e){return 1!==(e.data&&e.data.toleranceState)}),ae={1:"Serial",2:"Network"},ne=function(e){return e in ae?ae[e]:"Unknown [".concat(e,"]")},oe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={sensors:[],sensorModalVisible:!1,operationSlot:{}},n.props.setTitle("Dashboard"),n.renderSlotCard=n.renderSlotCard.bind(Object(_.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.startFetchData()}},{key:"componentWillUnmount",value:function(){clearInterval(this.fetchTimer)}},{key:"startFetchData",value:function(){var e=this;this.props.fetchSlotData(),this.fetchTimer=setInterval((function(){e.props.fetchSlotData()}),1e3)}},{key:"render",value:function(){var e=this,t=this.props.slots,a=this.state,n=a.sensors,r=a.operationSlot,c=a.sensorModalVisible;return o.a.createElement("div",{className:"dashboard"},o.a.createElement(V.a,null),o.a.createElement(x.a,null,o.a.createElement(A.a,{wrap:"wrap",justify:"between"},t.map(this.renderSlotCard))),o.a.createElement(T.a,{visible:c,title:"".concat(r.slotNo," Sensors"),maskClosable:!0,transparent:!0,footer:[{text:"OK",onPress:function(){return e.setState({sensorModalVisible:!1})}}]},o.a.createElement(P.a,null,n.map((function(e){return o.a.createElement(P.a.Item,{key:e.id},o.a.createElement(B.a,{className:te(e.state)?"warnBg":""},o.a.createElement(B.a.Header,{title:e.deviceSn,extra:e.address485}),o.a.createElement(B.a.Body,null,o.a.createElement(A.a,{justify:"center"},o.a.createElement(A.a.Item,null,ne(e.connection.type),":"),o.a.createElement(A.a.Item,null,e.connection.target)),o.a.createElement(A.a,{justify:"between"},o.a.createElement(A.a.Item,null,"State:"),o.a.createElement(A.a.Item,null,e.state)))))})))))}},{key:"renderSlotCard",value:function(e){var t=this,a=e.sku||{},n=e.data||{},r=te(e),c=1===(e.data&&e.data.weightState);return o.a.createElement(B.a,{className:"slotCard ".concat(r?"warnBg":""),onClick:function(){return t.onSlotCardClick(e)},key:e.id,full:!0},o.a.createElement(B.a.Header,{title:a.name}),o.a.createElement(B.a.Body,null,o.a.createElement(A.a,{className:"labelLine",justify:"between"},o.a.createElement("span",{className:"pcsTitle"},"PCS"),o.a.createElement("span",{className:"slotNo"},e.slotNo)),o.a.createElement("div",{className:"pcsValue ".concat(r?"warnText":"")},n.count),o.a.createElement("div",{className:"weightValue ".concat(r?"warnText":"")},c?"":"~",(n.weight/1e3).toFixed(3),"kg")),o.a.createElement(B.a.Footer,{extra:a.skuNo}))}},{key:"onSlotCardClick",value:function(e){this.setState({operationSlot:e,sensors:e.sensors,sensorModalVisible:!0})}}]),a}(n.Component),re=Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{slots:e.dashboardSlots})}),(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{fetchSlotData:function(){return e(X.apply(void 0,arguments))},setTitle:function(){return e(J.apply(void 0,arguments))}})}))(oe),ce=a(31),le=(a(66),a(40)),se=a.n(le),ie=(a(95),a(51)),ue=a.n(ie),pe=(a(30),a(18)),he=a.n(pe),me=(a(252),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"floatButton",onClick:function(){return e.onClick()}},o.a.createElement(he.a,{type:this.props.iconType,className:"icon"}))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),a}(n.Component)),fe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.props.setTitle("Sensor Setting"),n.props.setTabBarState(!1),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.sensors;return o.a.createElement("div",{className:"slotSetting"},o.a.createElement(P.a,{renderHeader:function(){return"Sensors"}},t.map((function(t){return o.a.createElement(P.a.Item,{key:t.id},o.a.createElement(B.a,null,o.a.createElement(B.a.Header,{title:"Address:".concat(t.address),extra:t.deviceSn}),o.a.createElement(B.a.Body,null,o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",null,"ELabel"),o.a.createElement(ue.a,{checked:t.hasElabel,onChange:function(a){return e.toggleElabel(t,a)},platform:"android"}))),o.a.createElement(B.a.Footer,{content:"Slot:[".concat(t.slot&&t.slot.slotNo,"]"),extra:t.slot&&t.slot.id})))}))),o.a.createElement(me,{iconType:"ellipsis",onClick:function(){return e.showOperationActions()}}))}},{key:"componentDidMount",value:function(){this.props.fetchSensors()}},{key:"toggleElabel",value:function(e,t){this.props.toggleSensorElable(e.id,t)}},{key:"showOperationActions",value:function(){var e=this,t=["Reload Sensors","Cancel"];se.a.showActionSheetWithOptions({title:"Operations",options:t,cancelButtonIndex:t.length-1,destructiveButtonIndex:0},(function(t){0===t&&e.callReloadSensors()}))}},{key:"callReloadSensors",value:function(){T.a.alert("Reload","Are you sure to reload?",[{text:"Yes",onPress:function(){K({url:"/api/sensor/reload",method:"post"}).then((function(){H.a.show("Reload Success!",1,!1)}))}},{text:"Cancel",onPress:function(){H.a.show("Cancel",1,!1)}}])}}]),a}(n.Component),de=Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{sensors:e.sensors})}),(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{fetchSensors:function(){return e(Y.apply(void 0,arguments))},toggleSensorElable:function(){return e(q.apply(void 0,arguments))},setTitle:function(){return e(J.apply(void 0,arguments))},setTabBarState:function(){return e(z.apply(void 0,arguments))}})}))(fe),be=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.props.setTitle("Setting"),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setTabBarState(!0)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"setting"},o.a.createElement(P.a,{renderHeader:function(){return"Settings:"}},o.a.createElement(P.a.Item,{onClick:function(){return e.go("/setting/sensor")}},o.a.createElement(V.a,null),o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",null,"Sensors"),o.a.createElement(he.a,{type:"right"})),o.a.createElement(V.a,null)),o.a.createElement(P.a.Item,{onClick:function(){return e.go("/setting/slot")}},o.a.createElement(V.a,null),o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",null,"Slots"),o.a.createElement(he.a,{type:"right"})),o.a.createElement(V.a,null)),o.a.createElement(P.a.Item,{onClick:function(){return e.go("/setting/connection")}},o.a.createElement(V.a,null),o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",null,"Connections"),o.a.createElement(he.a,{type:"right"})),o.a.createElement(V.a,null)),o.a.createElement(P.a.Item,{onClick:function(){return e.go("/setting/system")}},o.a.createElement(V.a,null),o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",null,"System"),o.a.createElement(he.a,{type:"right"})),o.a.createElement(V.a,null))))}},{key:"go",value:function(e){this.props.history.push({pathname:e})}}]),a}(n.Component),ve=Object(j.f)(Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))},setTabBarState:function(){return e(z.apply(void 0,arguments))}})}))(be)),ye=(a(253),["Refresh","Do Zero All","Cancel"]),Ee=P.a.Item,Oe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={slots:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setTabBarState(!1),this.props.setTitle("Slot Settings"),this.fetchSlots()}},{key:"render",value:function(){var e=this,t=this.state.slots;return o.a.createElement("div",{className:"slotSetting"},o.a.createElement(P.a,{renderHeader:function(){return"Slot List"}},t.map((function(t){return o.a.createElement(Ee,{key:t.id,extra:o.a.createElement(he.a,{type:"right"}),onClick:function(){return e.toSlotDetail(t)}},o.a.createElement(A.a,{justify:"between"},o.a.createElement("span",{className:"slotNo"},t.slotNo),o.a.createElement("span",{className:"name"},t.skuName)))}))),o.a.createElement(me,{iconType:"ellipsis",onClick:function(){return e.showOperationSheet()}}))}},{key:"showOperationSheet",value:function(){var e=this;se.a.showActionSheetWithOptions({options:ye,title:"Operations",cancelButtonIndex:ye.length-1,destructiveButtonIndex:1},(function(t){switch(t){case 0:e.fetchSlots();break;case 1:e.doZeroAll()}}))}},{key:"toSlotDetail",value:function(e){this.props.history.push({pathname:"/setting/slot-detail/".concat(e.id)})}},{key:"doZeroAll",value:function(){K({url:"/api/slot/zero-all",method:"post"}).then((function(){H.a.show("All Zeroed!")}))}},{key:"fetchSlots",value:function(){var e=this;K({url:"/api/slot/",method:"get"}).then((function(t){e.setState({slots:t})}))}}]),a}(n.Component),ke=Object(j.f)(Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTabBarState:function(){return e(z.apply(void 0,arguments))},setTitle:function(){return e(J.apply(void 0,arguments))}})}))(Oe)),ge=(a(254),a(102)),je=a.n(ge),Se=(a(135),a(34)),Ce=a.n(Se),we=(a(67),a(45)),Te=a.n(we),Ne=(a(275),["Delete","Start Scan","Cancel"]),Pe=[{label:"Serial",value:1},{label:"Network",value:2}],Ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={createDialogVisible:!1,create:{type:null,target:""},serialPorts:[]},n.props.setTitle("Connection Setting"),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchConnection(),this.props.setTabBarState(!1)}},{key:"render",value:function(){var e=this,t=P.a.Item,a=this.props.connections,n=this.state.createDialogVisible,r=this.state.create;return o.a.createElement("div",null,o.a.createElement(P.a,{renderHeader:function(){return"Connections"}},a.map((function(a){return o.a.createElement(t,{key:a.id,extra:o.a.createElement(he.a,{type:"right"}),onClick:function(){return e.showConnectionOperations(a)}},o.a.createElement(A.a,{justify:"between",className:"connectionItem"},o.a.createElement("span",{className:"type"},ne(a.type)),o.a.createElement("span",{className:"target"},a.target)))})),o.a.createElement(t,{key:"createButton"},o.a.createElement(Te.a,{type:"primary",onClick:function(){return e.showCreateDialog()}},"New"))),o.a.createElement(T.a,{visible:n,transparent:!0,title:"Create A Connection",footer:[{text:"Cancel",onPress:function(){return e.setState({createDialogVisible:!1})}},{text:"Create",onPress:function(){return e.createConnection()}}],maskClosable:!0},o.a.createElement(P.a,{title:"Connection"},o.a.createElement(je.a,{data:Pe,title:"Connection Type",cols:1,extra:"Choose",onChange:function(t){return e.setCreateType(t)}},o.a.createElement(P.a.Item,null,o.a.createElement(Ce.a,{value:r.type&&ne(r.type),disabled:!0,placeholder:"Type"}))),function(){var t=o.a.createElement(P.a.Item,{key:"target"},o.a.createElement(Ce.a,{placeholder:"Connection Target",onChange:function(t){return e.setCreateTarget(t)},value:r.target,disabled:1===e.state.create.type}));return 1===r.type?o.a.createElement(je.a,{data:e.state.serialPorts,extra:"Choose",title:"Serial Port List",cols:1,onChange:function(t){return e.setCreateTargetSerial(t)}},t):t}())))}},{key:"deleteConnection",value:function(e){var t=this;T.a.alert("Delete Connection!","Are You Sure delete this connection",[{text:"Cancel",onPress:function(){H.a.show("Canceled",1,!1)}},{text:"Delete",onPress:function(){t.props.deleteConnection(e.id)}}])}},{key:"scanConnection",value:function(e){T.a.alert("Scan Device!","Scan Devices for this Connection?",[{text:"Cancel",onPress:function(){H.a.show("Canceled",1,!1)}},{text:"Scan",onPress:function(){var t;(t=e.id,K({url:"/api/connection/".concat(t,"/_scan"),method:"post"})).then((function(){H.a.show("Scan Success!",2,!1)}))}}])}},{key:"showCreateDialog",value:function(){this.setState({createDialogVisible:!0})}},{key:"createConnection",value:function(){var e,t=this;(e=this.state.create,K({url:"/api/connection/",method:"put",data:e})).then((function(){t.props.fetchConnection(),t.setState({create:{},createDialogVisible:!1})}))}},{key:"setCreateType",value:function(e){var t=this;e.length<1&&H.a.show("Please Choose A Connection Type!");var a=e[0],n={type:a,target:""};this.setState({create:n}),1===a&&this.state.serialPorts.length<=0&&K({url:"/api/serial/scan",method:"get"}).then((function(e){var a,n=[],o=Object(h.a)(e);try{for(o.s();!(a=o.n()).done;){var r=a.value;n.push({label:r,value:r})}}catch(c){o.e(c)}finally{o.f()}t.setState({serialPorts:n})}))}},{key:"setCreateTarget",value:function(e){var t=Object(m.a)(Object(m.a)({},this.state.create),{},{target:e});this.setState({create:t})}},{key:"setCreateTargetSerial",value:function(e){if(e){var t=e[0],a=Object(m.a)(Object(m.a)({},this.state.create),{},{target:t});this.setState({create:a})}else H.a.show("Please Choose A Serial Port!")}},{key:"showConnectionOperations",value:function(e){var t=this;se.a.showActionSheetWithOptions({title:"".concat(e.target," Operations"),options:Ne,cancelButtonIndex:Ne.length-1,destructiveButtonIndex:0},(function(a){switch(a){case 0:t.deleteConnection(e);break;case 1:t.scanConnection(e)}}))}}]),a}(n.Component),Be=Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{connections:e.connections})}),(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{fetchConnection:function(){return e($.apply(void 0,arguments))},setTitle:function(){return e(J.apply(void 0,arguments))},deleteConnection:function(){return e(G.apply(void 0,arguments))},setTabBarState:function(){return e(z.apply(void 0,arguments))}})}))(Ie),De=["Do Zero","Delete","Cancel"],xe=P.a.Item,Le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={slot:{}},n.slotId=n.props.match.params.id,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setTitle("".concat(this.slotId," Settings")),this.fetchSlotInfo()}},{key:"fetchSlotInfo",value:function(){var e,t=this;(e=this.slotId,K({url:"/api/slot/".concat(e),method:"get"})).then((function(e){t.setState({slot:e}),t.props.setTitle("".concat(e.slotNo," Settings"))}))}},{key:"render",value:function(){var e=this,t=this.state.slot;return o.a.createElement("div",{className:"slotDetail"},o.a.createElement(P.a,{renderHeader:function(){return"Slot Info"}},o.a.createElement(xe,{key:"slotNo"},o.a.createElement(Ce.a,{placeholder:"Slot No",value:t.slotNo,onChange:function(t){return e.setUpdateSlotProp({slotNo:t})}},"SlotNo")),o.a.createElement(xe,{key:"SkuName"},o.a.createElement(Ce.a,{placeholder:"Sku Name",value:t.skuName,onChange:function(t){return e.setUpdateSlotProp({skuName:t})}},"SKUName")),o.a.createElement(xe,{key:"skuNo"},o.a.createElement(Ce.a,{placeholder:"SKU No",value:t.skuNo,onChange:function(t){return e.setUpdateSlotProp({skuNo:t})}},"SKUNo")),o.a.createElement(xe,{key:"skuApw"},o.a.createElement(Ce.a,{placeholder:"SKU Apw",value:t.skuApw,type:"number",onChange:function(t){return e.setUpdateSlotProp({skuApw:t})}},"Apw")),o.a.createElement(xe,{key:"skuTolerance"},o.a.createElement(Ce.a,{placeholder:"SKU Tolerance",value:t.skuTolerance,type:"number",onChange:function(t){return e.setUpdateSlotProp({skuTolerance:t})}},"Tolerance")),o.a.createElement(xe,{key:"skuShelfLifeOpenDays"},o.a.createElement(Ce.a,{placeholder:"SKU ShelfLifeOpenDays",value:t.skuShelfLifeOpenDays,type:"number",onChange:function(t){return e.setUpdateSlotProp({skuShelfLifeOpenDays:t})}},"SLO Days")),o.a.createElement(xe,{key:"applyBtn"},o.a.createElement(x.a,null,o.a.createElement(Te.a,{type:"primary",onClick:function(){return e.applyModify()}},"Apply Modify")))),o.a.createElement(P.a,{renderHeader:function(){return"ELabel"}},o.a.createElement(P.a.Item,{key:"hasELabel",extra:o.a.createElement(ue.a,{checked:t.hasElabel,onChange:function(t){return e.toggleELabel(t)},platform:"android"})},"Enable ELabel")),o.a.createElement(me,{iconType:"ellipsis",onClick:function(){return e.openOperation()}}))}},{key:"openOperation",value:function(){var e=this;se.a.showActionSheetWithOptions({title:"Operations",options:De,destructiveButtonIndex:1,cancelButtonIndex:De.length-1},(function(t){var a=De[t];"Do Zero"===a?e.doZero():"Delete"===a&&H.a.show("Unable To Delete!")}))}},{key:"doZero",value:function(){var e,t=this.state.slot;(e=t.slotNo,K({url:"/api/slot/".concat(e,"/zero"),method:"post"})).then((function(){H.a.show("Do Zero Success!")}))}},{key:"setUpdateSlotProp",value:function(e){var t=Object(m.a)(Object(m.a)({},this.state.slot),e);this.setState({slot:t})}},{key:"applyModify",value:function(){var e;(e=this.state.slot,K({url:"/api/slot/".concat(e.id),method:"post",data:e})).then((function(){H.a.show("Apply Success!")}))}},{key:"toggleELabel",value:function(e){var t,a=this;(t={id:this.slotId,hasELabel:e},K({url:"/api/slot/".concat(t.id,"/has-e-label"),method:"post",data:{hasElabel:t.hasELabel}})).then((function(){H.a.show("Toggle ELabel Success!"),a.fetchSlotInfo()}))}}]),a}(n.Component),Ae=Object(j.f)(Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))}})}))(Le)),Me=(a(136),a(73)),Ve=a.n(Me),_e=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={systemInfo:{},killButtonState:!0,libLoadVisible:!1,reloadLibPath:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.setTitle("System Infos"),K({url:"/api/dashboard/system-infos",method:"get"}).then((function(t){e.setState({systemInfo:t})}))}},{key:"render",value:function(){var e=this,t=P.a.Item,a=this.state,n=a.systemInfo,r=a.libLoadVisible,c=a.reloadLibPath,l=this.props.enableTabBar;return o.a.createElement("div",{className:"systemSettings"},o.a.createElement(P.a,{renderHeader:function(){return"System Infos"}},o.a.createElement(t,{key:"appName",extra:n.appName},"APPName"),o.a.createElement(t,{key:"appVersion",extra:n.appVersion},"APPVersion"),o.a.createElement(t,{key:"dbVersion",extra:n.dbVersion},"DBVersion"),o.a.createElement(t,{key:"pid",extra:n.pid},"ProcessID"),o.a.createElement(t,{key:"libPath",extra:o.a.createElement(he.a,{type:"right"}),onClick:function(){return e.showLibLoadModal()}}," LibPath: ",n.libPath),o.a.createElement(t,{key:"kill"},o.a.createElement(Te.a,{type:"warning",onClick:function(){return e.killProcess()},disabled:!this.state.killButtonState},"Kill Process"))),o.a.createElement(P.a,{renderHeader:function(){return"Settings"}},o.a.createElement(t,{key:"tabBar",extra:o.a.createElement(ue.a,{checked:l,onChange:function(t){return e.setEnableTabBar(t)},platform:"android"})},"EnableTabBar"),o.a.createElement(t,{key:"systemProps",extra:o.a.createElement(he.a,{type:"right"}),onClick:function(){return e.props.history.push({pathname:"/setting/system-props"})}},"System Props")),o.a.createElement(T.a,{visible:r,title:"Reload SerialPort Library",transparent:!0,maskClosable:!0,footer:[{text:"Cancel",onPress:function(){return e.setState({libLoadVisible:!1})}},{text:"Reload",onPress:function(){return e.reloadLibrary()}}]},o.a.createElement(Ve.a,{placeholder:"Type the SerialPort library Path!",autoHeight:!0,value:c,onChange:function(t){return e.setState({reloadLibPath:t})}})))}},{key:"killProcess",value:function(){H.a.show("Do not kill this process!",1,!1),this.setState({killButtonState:!1})}},{key:"setEnableTabBar",value:function(e){this.props.setEnableTabBar(e)}},{key:"showLibLoadModal",value:function(){var e=this.state.systemInfo.libPath;this.setState({reloadLibPath:e,libLoadVisible:!0})}},{key:"reloadLibrary",value:function(){var e,t=this;(e=this.state.reloadLibPath,K({url:"/api/serial/load-lib",method:"post",data:{libPath:e}})).then((function(e){H.a.show("Success: [".concat(e,"]")),t.setState({libLoadVisible:!1})}))}}]),a}(n.Component),Ue=Object(j.f)(Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{enableTabBar:e.enableTabBar})}),(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))},setEnableTabBar:function(){return e(ee.apply(void 0,arguments))}})}))(_e)),He=P.a.Item,Re=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={systemProps:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;K({url:"/api/dashboard/system-props",method:"get"}).then((function(t){var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push({name:n,value:t[n]});e.setState({systemProps:a})}))}},{key:"render",value:function(){var e=this.state.systemProps;return o.a.createElement("div",{className:"systemProps"},o.a.createElement(P.a,{renderHeader:function(){return"System Properties"}},e.map((function(e){return o.a.createElement(He,{key:e.name},o.a.createElement("div",null,e.name),o.a.createElement(Ve.a,{value:e.value,autoHeight:!0,labelNumber:5}))}))))}}]),a}(n.Component),Fe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(ce.a,null,o.a.createElement(j.c,null,o.a.createElement(j.a,{path:"/setting/",component:ve,exact:!0}),o.a.createElement(j.a,{path:"/setting/sensor",component:de,exact:!0}),o.a.createElement(j.a,{path:"/setting/slot",component:ke,exact:!0}),o.a.createElement(j.a,{path:"/setting/connection",component:Be,exact:!0}),o.a.createElement(j.a,{path:"/setting/slot-detail/:id",component:Ae,exact:!0}),o.a.createElement(j.a,{path:"/setting/system",component:Ue,exact:!0}),o.a.createElement(j.a,{path:"/setting/system-props",component:Re,exact:!0})))}}]),a}(n.Component),We=Object(O.b)(null,(function(e,t){return Object(m.a)({},t)}))(Fe),Ze=(a(137),a(74)),Ke=a.n(Ze),ze=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.props.setTitle("Config Address"),n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ke.a,{img:o.a.createElement(he.a,{type:"check-circle",size:"lg",style:{fill:"#1F90E6"}}),title:"\u5f00\u53d1\u4e2d",message:"\u5f00\u53d1\u4e2d"}))}},{key:"componentDidMount",value:function(){H.a.info("\u5f00\u53d1\u4e2d",1,null,!1)}}]),a}(n.Component),Je=Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))}})}))(ze),Xe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.props.setTitle("Logs"),n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ke.a,{img:o.a.createElement(he.a,{type:"check-circle",size:"lg",style:{fill:"#1F90E6"}}),title:"\u5f00\u53d1\u4e2d",message:"\u5f00\u53d1\u4e2d"}))}},{key:"componentDidMount",value:function(){H.a.info("\u5f00\u53d1\u4e2d",1,null,!1)}}]),a}(n.Component),Ye=Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))}})}))(Xe),qe=(a(278),a(144)),$e=a.n(qe),Ge=(a(281),a(145)),Qe=a.n(Ge),et=(a(284),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={drawerOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setTitle("About")}},{key:"render",value:function(){return o.a.createElement("div",{className:"about"},o.a.createElement(Qe.a,{marqueeProps:{loop:!0}},"\u78d0\u77f3\u7535\u6c14\uff08\u5e38\u5dde\uff09\u6709\u9650\u516c\u53f8\uff1ahttp://www.monolith-iot.com"),o.a.createElement(V.a,null),o.a.createElement(x.a,null,o.a.createElement($e.a,{autoplay:!0,infinite:!0,className:"headerCarousel"},o.a.createElement("div",{className:"carouselItem",style:{backgroundColor:"#FF9808"}},o.a.createElement("div",{className:"title"},"\u78d0\u77f3\u7535\u6c14\uff08\u5e38\u5dde\uff09\u6709\u9650\u516c\u53f8")),o.a.createElement("div",{className:"carouselItem",style:{backgroundColor:"#3171FA"}},o.a.createElement("div",{className:"title"},"MonolithIoT")))),o.a.createElement(x.a,{className:"article"},o.a.createElement("h1",{className:"title"},"\u5173\u4e8e\u6211\u4eec"),o.a.createElement("div",{className:"text"},o.a.createElement("p",null,"\u78d0\u77f3\u7535\u6c14(\u5e38\u5dde)\u6709\u9650\u516c\u53f8,\u662f\u4e00\u5bb6\u9ad8\u79d1\u6280\u667a\u80fd\u6d4b\u91cf\u88c5\u5907\u7814\u53d1\u53ca\u751f\u4ea7\u4f01\u4e1a\uff0c\u628a\u4f20\u7edf\u4f53\u79ef\uff0c\u91cd\u91cf\u7684\u6d4b\u91cf\u6570\u5b57\u5316\u7269\u8054\u7f51\u5316\uff0c\u53ef\u4ee5\u4e0eWMS,ERP\uff0cSAP\u7b49\u4f01\u4e1a\u7ba1\u7406\u8f6f\u4ef6\u76f8\u7ed3\u5408\uff0c\u4fbf\u4e8e\u4f01\u4e1a\u66f4\u76f4\u89c2\u7684\u7ba1\u7406\u81ea\u5df1\u7684\u4ed3\u50a8\uff0c\u7269\u6d41\u7b49\u3002\u78d0\u77f3\u7535\u6c14\u4e0b\u8bbe\u7814\u53d1\u90e8\uff0c\u5de5\u7a0b\u90e8\uff0c\u4e1a\u52a1\u90e8\uff0c\u6709\u8f83\u5f3a\u7684\u8bbe\u8ba1\uff0c\u7814\u53d1\u548c\u751f\u4ea7\u80fd\u529b\uff0c\u53ef\u4e3a\u5ba2\u6237\u63d0\u4f9b\u5d4c\u5165\u5f0f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4ea7\u54c1\u8bbe\u8ba1\uff0c\u5f00\u53d1\uff0c\u7cfb\u7edf\u96c6\u6210\uff0c\u5de5\u7a0b\u5b9e\u65bd\u7b49\u670d\u52a1\u3002"),o.a.createElement("p",null,"\u968f\u7740\u516c\u53f8\u7684\u53d1\u5c55\uff0c\u4e3b\u8981\u4ea7\u54c1\u6709\u81ea\u4e3b\u7814\u53d1\u7684\u667a\u80fd\u6570\u5b57\u5377\u5c3a\uff0c\u667a\u80fd\u624b\u52a8\u53c9\u8f66\u79e4\uff0c\u5b89\u5353\u667a\u80fd\u79f0\u91cd\u7ec8\u7aef\uff0c\u9759\u6001/\u52a8\u6001DWS\u7b49\u5404\u79cd\u7269\u8054\u7f51\u7c7b\u667a\u80fd\u79f0\u91cd\u91cf\u65b9\u8bbe\u5907\u53ca\u8f6f\u4ef6\u5b9a\u5236\u7cfb\u7edf,\u53ef\u4e3a\u5ba2\u6237\u6700\u5927\u7a0b\u5ea6\u5730\u63d0\u4f9b\u667a\u80fd\u5316\u7cfb\u7edf\u5316\u7684\u6d4b\u91cf\u7cfb\u7edf\u89e3\u51b3\u65b9\u6848\u3002\u4ea7\u54c1\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5feb\u9012\u7269\u6d41\u3001\u751f\u9c9c\u4f9b\u5e94\u3001\u6e2f\u53e3\u8ba2\u8231\u3001\u4ed3\u50a8\u3001\u5de5\u4e1a\u79bb\u6563\u5236\u9020\u53ca\u5404\u79cd\u4ee5\u957f\u5ea6(\u542b\u9762 \u79ef\u3001\u4f53\u79ef)\u6d4b\u91cf\u4e3a\u624b\u6bb5\u7684\u6c11\u7528\u3001\u5546\u7528\u7528\u9014\u4e2d\u3002\u51ed\u7740\u53ef\u9760\u7684\u4ea7\u54c1\u8d28\u91cf\u548c\u826f\u597d\u7684\u552e\u540e\u670d\u52a1\uff0c\u6211\u516c\u53f8\u5df2\u4e0e\u987a\u4e30\u3001\u4e2d\u56fd\u90ae\u653f\u3001\u4eac\u4e1c\u3001\u56fd\u9645\u5feb\u9012DHL\u3001\u534e\u4e3a\u7b49\u591a\u5bb6\u77e5\u540d\u4f01\u4e1a\u5408\u4f5c\u3002"),o.a.createElement("p",null,"\u76ee\u524d\u516c\u53f8\u5df2\u7533\u8bf7\u4e2d\u56fd\u4e13\u522924\u9879,\u7f8e\u56fd\u4e13\u52291\u9879\uff0c\u5e76\u62e5\u6709\u4e00\u652f\u4ee5\u535a\u58eb\u3001\u7855\u58eb\u4e3a\u4e3b\u7684\u4f18\u79c0\u7814\u53d1\u56e2\u961f\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u7814\u53d1\u80fd\u529b\u548c\u7ba1\u7406\u6c34\u5e73\uff0c\u73b0\u6709\u591a\u540d\u5458\u5de5\u66fe\u5728\u5916\u4f01\u4f5c\u4e3a\u6280\u672f\u9aa8\u5e72\uff0c\u627f\u4f20\u6b27\u7f8e\u8bbe\u8ba1\u5236\u9020\u7406\u5ff5\uff0c\u5e76\u91c7\u7528\u5148\u8fdb\u7684\u4ea7\u54c1\u751f\u547d\u5468\u671f\u7ba1\u7406\uff08PLM\uff09\uff0c\u91cd\u89c6\u4ea7\u54c1\u8d28\u91cf\uff0c\u4e3a\u516c\u53f8\u4ea7\u54c1\u7684\u6280\u672f\u5f15\u9886\u3001\u6280\u672f\u521b\u65b0\u548c\u516c\u53f8\u7684\u53ef\u6301\u7eed\u53d1\u5c55\u5960\u5b9a\u4e86\u575a\u5b9e\u57fa\u7840\u3002"))))}}]),a}(n.Component)),tt=Object(O.b)(null,(function(e,t){return Object(m.a)(Object(m.a)({},t),{},{setTitle:function(){return e(J.apply(void 0,arguments))}})}))(et),at=(a(285),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"appContent"},o.a.createElement("div",{className:"headerMask"}),o.a.createElement(j.c,null,o.a.createElement(j.a,{path:"/",component:re,exact:!0}),o.a.createElement(j.a,{path:"/setting**",component:We,exact:!0}),o.a.createElement(j.a,{path:"/address",component:Je,exact:!0}),o.a.createElement(j.a,{path:"/logs",component:Ye,exact:!0}),o.a.createElement(j.a,{path:"/about",component:tt,exact:!0})),o.a.createElement("div",{className:"tabBarMask"}))}}]),a}(n.Component)),nt=(a(286),a(104)),ot=a.n(nt),rt=(a(291),a(147)),ct=a.n(rt),lt=(a(293),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={popoverVisible:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.title;return o.a.createElement("div",{className:"appHeader"},o.a.createElement(ct.a,{leftContent:o.a.createElement(he.a,{type:"left",onClick:function(){return e.onBackClick()}}),rightContent:this.rightContent(),mode:"light"},t))}},{key:"rightContent",value:function(){var e=this,t=this.state.popoverVisible,a=ot.a.Item;return o.a.createElement(ot.a,{mask:!0,visible:t,overlay:[o.a.createElement(a,{key:"about",value:"about","data-seed":"logId"},"About"),o.a.createElement(a,{key:"settings",value:"settings",style:{whiteSpace:"nowrap"}},"Settings")],onSelect:function(t){return e.onPopoverSelect(t)}},o.a.createElement(he.a,{type:"ellipsis"}))}},{key:"onBackClick",value:function(){this.props.history.goBack()}},{key:"onPopoverSelect",value:function(e){switch(e.key){case"about":this.props.history.push({pathname:"/about"});break;case"settings":this.props.history.push({pathname:"/setting/"})}this.setState({popoverVisible:!1})}}]),a}(n.Component)),st=Object(j.f)(Object(O.b)((function(e,t){return Object(m.a)(Object(m.a)({},t),{},{title:e.globalTitle})}))(lt)),it=a(148),ut=Object(it.a)(),pt=function(e){var t=function(e){return{type:"router.path.set",data:e}}({pathname:e.pathname,search:e.search,hash:e.hash});E.dispatch(t)};ut.listen((function(e){pt(e.location)})),pt(ut.location);var ht=ut,mt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){E.dispatch(Q())}},{key:"render",value:function(){return o.a.createElement(ce.a,{history:ht},o.a.createElement(O.a,{store:E},o.a.createElement("div",{className:"app-content"},o.a.createElement(st,null),o.a.createElement(at,null),o.a.createElement(C,null))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.1f7911fa.chunk.js.map