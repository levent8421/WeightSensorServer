{"version":3,"sources":["store/reducer.js","store/actionTypes.js","store/index.js","component/AppTabBar.jsx","api/request.js","util/httpUtils.js","api/dashboard.js","store/actionCreators.js","api/sensor.js","api/connection.js","api/config.js","util/DataConvertor.js","component/content/Dashboard.jsx","component/commons/FloatButton.jsx","component/content/setting/SensorSetting.jsx","component/content/setting/SettingMenu.jsx","component/content/setting/SlotSetting.jsx","api/slot.js","component/content/setting/ConnectionSetting.jsx","component/content/setting/SlotDetailSetting.jsx","component/content/setting/SystemSetting.jsx","component/content/Setting.jsx","component/content/Address.jsx","component/content/Logs.jsx","component/content/About.jsx","component/AppContent.jsx","component/AppHeader.jsx","util/History.js","App.js","serviceWorker.js","index.js"],"names":["defaultState","showTabBar","enableTabBar","globalTitle","routerPath","dashboardSlots","sensors","connections","user","name","actionTable","registerReducer","type","reducer","state","action","data","sensorId","hasElable","hasElabel","sensor","id","JSON","parse","stringify","filter","connection","allEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","handler","AppTabBar","this","props","className","unselectedTintColor","tintColor","barTintColor","hidden","tabBarPosition","Item","title","icon","onPress","pushPath","path","history","push","pathname","React","Component","withRouter","connect","hideLoading","hide","showError","msg","fail","request","options","loading","Promise","resolve","reject","axios","httpRequest","then","res","status","body","code","catch","err","errStr","toString","setTabBarState","show","setTitle","asyncFetchDashboardSlotData","dispatch","url","method","slots","key","hasOwnProperty","sort","a","b","slotNo","localeCompare","asyncFetchSensors","toggleSensorElable","asyncFetchConnection","asyncDeleteConnection","deleteConnection","fetchEnableTabBarAction","value","setEnableTabBarAction","enable","setEnableTabBar","isWarn","slot","toleranceState","connectionTypes","1","2","asConnectionType","Dashboard","sensorModalVisible","operationSlot","renderSlotCard","bind","startFetchData","clearInterval","fetchTimer","fetchSlotData","setInterval","wrap","justify","map","visible","maskClosable","transparent","footer","text","setState","Header","deviceSn","extra","address485","Body","target","sku","warn","stable","weightState","onClick","onSlotCardClick","full","count","weight","toFixed","Footer","skuNo","FloatButton","iconType","SensorSetting","renderHeader","address","checked","onChange","e","toggleElabel","platform","content","showOperationActions","fetchSensors","buttons","showActionSheetWithOptions","cancelButtonIndex","length","destructiveButtonIndex","index","callReloadSensors","alert","SettingMenu","go","OperationActions","SlotSetting","fetchSlots","toSlotDetail","skuName","showOperationSheet","doZeroAll","ConnectionOperations","label","ConnectionSetting","createDialogVisible","create","serialPorts","fetchConnection","showConnectionOperations","showCreateDialog","createConnection","cols","setCreateType","disabled","placeholder","input","setCreateTarget","arr","setCreateTargetSerial","types","newCreate","port","serialIndexList","scanConnection","ActionButtons","SlotDetailSetting","slotId","match","params","fetchSlotInfo","setUpdateSlotProp","skuApw","skuTolerance","skuShelfLifeOpenDays","applyModify","toggleELabel","openOperation","buttonIndex","button","doZero","hasELabel","option","SystemSetting","systemInfo","killButtonState","appName","appVersion","dbVersion","pid","killProcess","Setting","component","exact","Address","img","size","style","fill","message","info","Logs","About","drawerOpen","marqueeProps","loop","autoplay","infinite","backgroundColor","AppContent","AppHeader","popoverVisible","leftContent","onBackClick","rightContent","mode","mask","overlay","data-seed","whiteSpace","onSelect","onPopoverSelect","goBack","createBrowserHistory","notifyPathChanged","location","setRouterPath","search","hash","listen","App","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.fca30811.chunk.js","sourcesContent":["import {\r\n    ASYNC_FETCH_CONNECTION,\r\n    ASYNC_FETCH_DASHBOARD_SLOT_DATA,\r\n    ASYNC_FETCH_SENSORS,\r\n    DELETE_CONNECTION,\r\n    SET_ENABLE_TAB_BAR,\r\n    SET_ROUTER_PATH,\r\n    SET_TABBAR_STATE,\r\n    SET_TITLE,\r\n    TOGGLE_SENSOR_ELABLE,\r\n} from './actionTypes';\r\n\r\nconst defaultState = {\r\n    showTabBar: true,\r\n    enableTabBar: false,\r\n    globalTitle: '重力货道',\r\n    routerPath: null,\r\n    dashboardSlots: [],\r\n    sensors: [],\r\n    connections: [],\r\n    user: {\r\n        name: 'MonolithIoT'\r\n    }\r\n};\r\nconst actionTable = {};\r\nconst registerReducer = (type, reducer) => {\r\n    actionTable[type] = reducer;\r\n};\r\nregisterReducer(SET_TABBAR_STATE, (state, action) => {\r\n    return {\r\n        ...state,\r\n        showTabBar: action.data\r\n    };\r\n});\r\nregisterReducer(SET_ROUTER_PATH, (state, action) => {\r\n    return {\r\n        ...state,\r\n        routerPath: action.data,\r\n    };\r\n});\r\n\r\nregisterReducer(ASYNC_FETCH_DASHBOARD_SLOT_DATA, (state, action) => {\r\n    return {\r\n        ...state,\r\n        dashboardSlots: action.data,\r\n    };\r\n});\r\n\r\nregisterReducer(SET_TITLE, (state, action) => {\r\n    return {\r\n        ...state,\r\n        globalTitle: action.data,\r\n    }\r\n});\r\nregisterReducer(ASYNC_FETCH_SENSORS, (state, action) => {\r\n    return {\r\n        ...state,\r\n        sensors: action.data,\r\n    };\r\n});\r\n\r\nregisterReducer(TOGGLE_SENSOR_ELABLE, (state, action) => {\r\n    const sensors = state.sensors;\r\n    const sensorId = action.data.sensorId;\r\n    const hasElable = action.data.hasElabel;\r\n    for (let sensor of sensors) {\r\n        if (sensor.id === sensorId) {\r\n            sensor.hasElable = hasElable;\r\n            break;\r\n        }\r\n    }\r\n    return {\r\n        ...state,\r\n        sensors: JSON.parse(JSON.stringify(sensors))\r\n    };\r\n});\r\n\r\nregisterReducer(ASYNC_FETCH_CONNECTION, (state, action) => {\r\n    return {\r\n        ...state,\r\n        connections: action.data,\r\n    };\r\n});\r\nregisterReducer(DELETE_CONNECTION, (state, action) => {\r\n    const id = action.data.id;\r\n    const connections = state.connections.filter(connection => connection.id !== id);\r\n    return {\r\n        ...state,\r\n        connections\r\n    };\r\n});\r\nregisterReducer(SET_ENABLE_TAB_BAR, (state, action) => {\r\n    return {\r\n        ...state,\r\n        enableTabBar: action.data,\r\n    };\r\n});\r\nexport default (state = defaultState, action) => {\r\n    const type = action.type;\r\n    if (type in actionTable) {\r\n        const handler = actionTable[type];\r\n        return handler(state, action);\r\n    }\r\n    return state;\r\n}\r\n","export const SET_USER = \"user.set\";\r\n\r\nexport const SET_TABBAR_STATE = 'tabBar.set';\r\n\r\nexport const SET_ROUTER_PATH = 'router.path.set';\r\n\r\nexport const ASYNC_FETCH_DASHBOARD_SLOT_DATA = 'dashboard.slot_data.fetch.async';\r\n\r\nexport const SET_TITLE = 'title.set';\r\n\r\nexport const ASYNC_FETCH_SENSORS = 'sensors.fetch.async';\r\n\r\nexport const TOGGLE_SENSOR_ELABLE = 'sensor.elabel.toggle';\r\n\r\nexport const ASYNC_FETCH_CONNECTION = 'connections.fetch.async';\r\n\r\nexport const DELETE_CONNECTION = 'connection.delete';\r\n\r\nexport const SET_ENABLE_TAB_BAR = 'connection.delete';\r\n","import {applyMiddleware, compose, createStore} from 'redux'\r\nimport reducer from './reducer';\r\nimport thunk from 'redux-thunk'\r\n\r\nconst reduxDevTools = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\nconst allEnhancers = reduxDevTools(applyMiddleware(thunk));\r\nconst store = createStore(reducer, allEnhancers);\r\n\r\nexport default store;\r\n","import React from 'react'\r\nimport {Icon, TabBar} from 'antd-mobile'\r\nimport {connect} from 'react-redux';\r\nimport './AppTabBar.sass'\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    return {\r\n        ...props,\r\n        showTabBar: state.showTabBar,\r\n        enableTabBar: state.enableTabBar,\r\n    };\r\n};\r\n\r\nclass AppTabBar extends React.Component {\r\n    render() {\r\n        const showTabBar = this.props.showTabBar && this.props.enableTabBar;\r\n        if (showTabBar) {\r\n            return (\r\n                <div className=\"appTabBar\">\r\n                    <TabBar\r\n                        unselectedTintColor=\"#949494\"\r\n                        tintColor=\"#33A3F4\"\r\n                        barTintColor=\"white\"\r\n                        hidden={!this.props.showTabBar}\r\n                        tabBarPosition=\"bottom\">\r\n                        <TabBar.Item title=\"Dashboard\" icon={<Icon type=\"check-circle\"/>}\r\n                                     onPress={() => this.pushPath('/')}/>\r\n                        <TabBar.Item title=\"Logs\" icon={<Icon type=\"check-circle\"/>}\r\n                                     onPress={() => this.pushPath('/logs')}/>\r\n                        <TabBar.Item title=\"Address\" icon={<Icon type=\"check-circle\"/>}\r\n                                     onPress={() => this.pushPath('/address')}/>\r\n                        <TabBar.Item title=\"Setting\" icon={<Icon type=\"check-circle\"/>}\r\n                                     onPress={() => this.pushPath('/setting')}/>\r\n                    </TabBar>\r\n                </div>)\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    pushPath(path) {\r\n        this.props.history.push({\r\n            pathname: path,\r\n        })\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(AppTabBar));\r\n","import {httpRequest} from '../util/httpUtils';\r\nimport {Toast} from 'antd-mobile'\r\n\r\nconst showLoading = () => {\r\n    Toast.loading('Loading', 0);\r\n};\r\nconst hideLoading = () => {\r\n    Toast.hide();\r\n};\r\nconst showError = (msg) => {\r\n    Toast.fail(msg);\r\n};\r\n\r\n\r\nexport function request(options) {\r\n    if (!options.hideLoading) {\r\n        showLoading();\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        httpRequest(options)\r\n            .then(res => {\r\n                hideLoading();\r\n                if (res.status !== 200) {\r\n                    showError(`Http Response Status:${res.status}`);\r\n                    reject(res);\r\n                    return;\r\n                }\r\n                const body = res.data;\r\n                if (body.code !== 200) {\r\n                    showError(`Error [${body.code}]:${body.msg}`);\r\n                    reject(res);\r\n                    return;\r\n                }\r\n                resolve(body.data);\r\n            }).catch(err => {\r\n                hideLoading();\r\n                const errStr = err.toString();\r\n                showError(errStr);\r\n                reject(err);\r\n            }\r\n        );\r\n    })\r\n}\r\n","import axios from 'axios'\r\n\r\nexport function httpRequest(options) {\r\n    return axios(options);\r\n}\r\n","import {request} from './request';\r\n\r\nexport const fetchSlotData = () => {\r\n    return request({\r\n        url: '/api/dashboard/slot-data',\r\n        method: 'get',\r\n        hideLoading: true,\r\n    });\r\n};\r\nexport const fetchSystemInfo = () => {\r\n    return request({\r\n        url: '/api/dashboard/system-infos',\r\n        method: 'get',\r\n    });\r\n};\r\n","import {\r\n    ASYNC_FETCH_CONNECTION,\r\n    ASYNC_FETCH_DASHBOARD_SLOT_DATA,\r\n    ASYNC_FETCH_SENSORS,\r\n    DELETE_CONNECTION,\r\n    SET_ENABLE_TAB_BAR,\r\n    SET_ROUTER_PATH,\r\n    SET_TABBAR_STATE,\r\n    SET_TITLE,\r\n    SET_USER,\r\n    TOGGLE_SENSOR_ELABLE,\r\n} from './actionTypes';\r\nimport {fetchSlotData} from '../api/dashboard';\r\nimport {fetchSensors, toggleElable} from '../api/sensor';\r\nimport {deleteConnection, fetchConnections} from '../api/connection';\r\nimport {fetchEnableTabBar, setEnableTabBar} from '../api/config';\r\n\r\nexport const setUser = user => {\r\n    return {\r\n        type: SET_USER,\r\n        data: user\r\n    }\r\n};\r\nexport const setTabBarState = show => {\r\n    return {\r\n        type: SET_TABBAR_STATE,\r\n        data: show\r\n    };\r\n};\r\n\r\nexport const setRouterPath = info => {\r\n    return {\r\n        type: SET_ROUTER_PATH,\r\n        data: info\r\n    };\r\n};\r\nexport const setTitle = title => {\r\n    return {\r\n        type: SET_TITLE,\r\n        data: title,\r\n    }\r\n};\r\nexport const asyncFetchDashboardSlotData = () => {\r\n    return dispatch => {\r\n        fetchSlotData().then(res => {\r\n            const slots = [];\r\n            for (const key in res) {\r\n                if (res.hasOwnProperty(key)) {\r\n                    slots.push(res[key]);\r\n                }\r\n            }\r\n            const action = {\r\n                type: ASYNC_FETCH_DASHBOARD_SLOT_DATA,\r\n                data: slots.sort((a, b) => a.slotNo.localeCompare(b.slotNo)),\r\n            };\r\n            dispatch(action);\r\n        });\r\n    }\r\n};\r\n\r\nexport const asyncFetchSensors = () => {\r\n    return dispatch => {\r\n        fetchSensors().then(res => {\r\n            const action = {\r\n                type: ASYNC_FETCH_SENSORS,\r\n                data: res\r\n            };\r\n            dispatch(action);\r\n        });\r\n    };\r\n};\r\n\r\n\r\nexport const toggleSensorElable = (sensorId, hasElabel) => {\r\n    return dispatch => {\r\n        toggleElable().then(() => {\r\n            const action = {\r\n                type: TOGGLE_SENSOR_ELABLE,\r\n                data: {\r\n                    sensorId,\r\n                    hasElabel\r\n                }\r\n            };\r\n            dispatch(action);\r\n        })\r\n    };\r\n};\r\n\r\n\r\nexport const asyncFetchConnection = () => {\r\n    return dispatch => {\r\n        fetchConnections().then(res => {\r\n            const action = {\r\n                type: ASYNC_FETCH_CONNECTION,\r\n                data: res\r\n            };\r\n            dispatch(action);\r\n        });\r\n    };\r\n};\r\n\r\nexport const asyncDeleteConnection = id => {\r\n    return dispatch => {\r\n        deleteConnection(id).then(() => {\r\n            const action = {\r\n                type: DELETE_CONNECTION,\r\n                data: {\r\n                    id: id\r\n                }\r\n            };\r\n            dispatch(action);\r\n        })\r\n    }\r\n};\r\n\r\nexport const fetchEnableTabBarAction = () => {\r\n    return dispatch => {\r\n        fetchEnableTabBar().then(res => {\r\n            const action = {\r\n                type: SET_ENABLE_TAB_BAR,\r\n                data: res.value === 'true',\r\n            };\r\n            dispatch(action);\r\n        });\r\n    };\r\n};\r\n\r\nexport const setEnableTabBarAction = enable => {\r\n    return dispatch => {\r\n        setEnableTabBar(enable).then(() => {\r\n            const action = {\r\n                type: SET_ENABLE_TAB_BAR,\r\n                data: enable,\r\n            };\r\n            dispatch(action);\r\n        });\r\n    };\r\n};\r\n","import {request} from './request';\r\n\r\nexport const fetchSensors = () => {\r\n    return request({\r\n        url: '/api/sensor/_with-slot',\r\n        method: 'get',\r\n    });\r\n};\r\n\r\nexport const toggleElable = (sensorId, hasElabel) => {\r\n    return new Promise((resolve, reject) => {\r\n        resolve();\r\n    })\r\n};\r\n\r\n\r\nexport const reloadSensors = () => {\r\n    return request({\r\n        url: '/api/sensor/reload',\r\n        method: 'post',\r\n    });\r\n};\r\n","import {request} from './request';\r\n\r\nexport const fetchConnections = () => {\r\n    return request({\r\n        url: '/api/connection/',\r\n        method: 'get',\r\n    });\r\n};\r\n\r\nexport const deleteConnection = id => {\r\n    return request({\r\n        url: `/api/connection/${id}`,\r\n        method: 'delete',\r\n    });\r\n};\r\n\r\nexport const createConnection = connection => {\r\n    return request({\r\n        url: '/api/connection/',\r\n        method: 'put',\r\n        data: connection,\r\n    });\r\n};\r\n\r\n\r\nexport const scanPort = () => {\r\n    return request({\r\n        url: '/api/serial/scan',\r\n        method: 'get',\r\n    });\r\n};\r\n\r\n\r\nexport const scanDevice = id => {\r\n    return request({\r\n        url: `/api/connection/${id}/_scan`,\r\n        method: 'post',\r\n    });\r\n};\r\n","import {request} from './request';\r\n\r\n\r\nexport const fetchEnableTabBar = () => {\r\n    return request({\r\n        url: '/api/config/application.ui.enable_tabBar',\r\n        method: 'get',\r\n    });\r\n};\r\n\r\nexport const setEnableTabBar = enable => {\r\n    return request({\r\n        url: '/api/config/application.ui.enable_tabBar',\r\n        method: 'post',\r\n        data: {\r\n            value: enable,\r\n        },\r\n    });\r\n};\r\n","export const asKg = g => {\r\n    return (g / 1000.0).toFixed(3);\r\n};\r\n\r\nexport const isWarn = (slot) => {\r\n    return (slot.data && slot.data.toleranceState) !== 1;\r\n};\r\n\r\nconst connectionTypes = {\r\n    1: 'Serial',\r\n    2: 'Network',\r\n};\r\n\r\nexport const asConnectionType = type => {\r\n    if (type in connectionTypes) {\r\n        return connectionTypes[type];\r\n    }\r\n    return `Unknown [${type}]`;\r\n};\r\n\r\nconst weightStateTable = {\r\n    1: 'stable',\r\n    2: 'dynamic',\r\n    3: 'underLoad',\r\n    4: 'overLoad',\r\n};\r\nexport const isStable = weightState => {\r\n    return weightState === 1;\r\n};\r\n\r\nexport const asWeightStateString = state => {\r\n    return state in weightStateTable ? weightStateTable[state] : state;\r\n};\r\n","import React, {Component} from 'react';\r\nimport {asyncFetchDashboardSlotData, setTitle} from '../../store/actionCreators';\r\nimport {connect} from 'react-redux';\r\nimport './Dashboard.sass'\r\nimport {Card, Flex, List, Modal, WhiteSpace, WingBlank} from 'antd-mobile';\r\nimport {asConnectionType, asKg, isStable, isWarn} from '../../util/DataConvertor';\r\n\r\nconst mapState2Props = (state, props) => {\r\n    return {\r\n        ...props,\r\n        slots: state.dashboardSlots\r\n    };\r\n};\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        fetchSlotData: (...args) => dispatch(asyncFetchDashboardSlotData(...args)),\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n    };\r\n};\r\n\r\nclass Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            sensors: [],\r\n            sensorModalVisible: false,\r\n            operationSlot: {},\r\n        };\r\n        this.props.setTitle('Dashboard');\r\n        this.renderSlotCard = this.renderSlotCard.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.startFetchData();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.fetchTimer);\r\n    }\r\n\r\n    startFetchData() {\r\n        this.props.fetchSlotData();\r\n        this.fetchTimer = setInterval(() => {\r\n            this.props.fetchSlotData();\r\n        }, 1000);\r\n    }\r\n\r\n    render() {\r\n        const _this = this;\r\n        const slots = this.props.slots;\r\n        const {sensors, operationSlot, sensorModalVisible} = this.state;\r\n        return (\r\n            <div className=\"dashboard\">\r\n                <WhiteSpace/>\r\n                <WingBlank>\r\n                    <Flex wrap=\"wrap\" justify=\"between\">\r\n                        {\r\n                            slots.map(_this.renderSlotCard)\r\n                        }\r\n                    </Flex>\r\n                </WingBlank>\r\n                <Modal visible={sensorModalVisible}\r\n                       title={`${operationSlot.slotNo} Sensors`}\r\n                       maskClosable={true}\r\n                       transparent\r\n                       footer={[{text: 'OK', onPress: () => this.setState({sensorModalVisible: false})}]}>\r\n                    <List>\r\n                        {\r\n                            sensors.map(sensor => (<List.Item key={sensor.id}>\r\n                                <Card className={isWarn(sensor.state) ? 'warnBg' : ''}>\r\n                                    <Card.Header title={sensor.deviceSn} extra={sensor.address485}/>\r\n                                    <Card.Body>\r\n                                        <Flex justify=\"center\">\r\n                                            <Flex.Item>{asConnectionType(sensor.connection.type)}:</Flex.Item>\r\n                                            <Flex.Item>{sensor.connection.target}</Flex.Item>\r\n                                        </Flex>\r\n                                        <Flex justify=\"between\">\r\n                                            <Flex.Item>State:</Flex.Item>\r\n                                            <Flex.Item>{sensor.state}</Flex.Item>\r\n                                        </Flex>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </List.Item>))\r\n                        }\r\n                    </List>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderSlotCard(slot) {\r\n        const sku = slot.sku || {};\r\n        const data = slot.data || {};\r\n        const warn = isWarn(slot);\r\n        const stable = isStable(slot.data && slot.data.weightState);\r\n        return (<Card\r\n            className={`slotCard ${warn ? 'warnBg' : ''}`}\r\n            onClick={() => this.onSlotCardClick(slot)}\r\n            key={slot.id}\r\n            full={true}>\r\n            <Card.Header\r\n                title={sku.name}\r\n            >\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Flex className=\"labelLine\" justify=\"between\">\r\n                    <span className=\"pcsTitle\">PCS</span>\r\n                    <span className=\"slotNo\">{slot.slotNo}</span>\r\n                </Flex>\r\n                <div className={`pcsValue ${warn ? 'warnText' : ''}`}>\r\n                    {data.count}\r\n                </div>\r\n                <div className={`weightValue ${warn ? 'warnText' : ''}`}>\r\n                    {stable ? '' : '~'}{asKg(data.weight)}kg\r\n                </div>\r\n            </Card.Body>\r\n            <Card.Footer extra={sku.skuNo}/>\r\n        </Card>)\r\n    }\r\n\r\n    onSlotCardClick(slot) {\r\n        this.setState({\r\n            operationSlot: slot,\r\n            sensors: slot.sensors,\r\n            sensorModalVisible: true,\r\n        });\r\n    }\r\n}\r\n\r\nexport default connect(mapState2Props, mapAction2Props)(Dashboard);\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Icon} from 'antd-mobile';\r\nimport './FloatButton.sass';\r\n\r\nclass FloatButton extends Component {\r\n    static propTypes = {\r\n        iconType: PropTypes.string.isRequired,\r\n        onClick: PropTypes.func,\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"floatButton\" onClick={() => this.onClick()}>\r\n                <Icon type={this.props.iconType} className=\"icon\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onClick() {\r\n        if (this.props.onClick) {\r\n            this.props.onClick();\r\n        }\r\n    }\r\n}\r\n\r\nexport default FloatButton;\r\n","import React, {Component} from 'react';\r\nimport {ActionSheet, Card, Flex, List, Modal, Switch, Toast} from \"antd-mobile\";\r\nimport {asyncFetchSensors, setTabBarState, setTitle, toggleSensorElable} from \"../../../store/actionCreators\";\r\nimport {connect} from 'react-redux';\r\nimport FloatButton from '../../commons/FloatButton';\r\nimport {reloadSensors} from \"../../../api/sensor\";\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        fetchSensors: (...args) => dispatch(asyncFetchSensors(...args)),\r\n        toggleSensorElable: (...args) => dispatch(toggleSensorElable(...args)),\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n        setTabBarState: (...args) => dispatch(setTabBarState(...args)),\r\n    }\r\n};\r\nconst mapState2Props = (state, props) => {\r\n    return {\r\n        ...props,\r\n        sensors: state.sensors,\r\n    };\r\n};\r\n\r\nclass SensorSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.props.setTitle('Sensor Setting');\r\n        this.props.setTabBarState(false);\r\n    }\r\n\r\n    render() {\r\n        const {sensors} = this.props;\r\n        return (\r\n            <div className=\"slotSetting\">\r\n                <List renderHeader={() => 'Sensors'}>\r\n                    {\r\n                        sensors.map(sensor => (<List.Item key={sensor.id}>\r\n                            <Card>\r\n                                <Card.Header title={`Address:${sensor.address}`} extra={sensor.deviceSn}/>\r\n                                <Card.Body>\r\n                                    <Flex justify=\"between\">\r\n                                        <span>ELabel</span>\r\n                                        <Switch checked={sensor.hasElabel}\r\n                                                onChange={(e) => this.toggleElabel(sensor, e)}\r\n                                                platform=\"android\"/>\r\n                                    </Flex>\r\n                                </Card.Body>\r\n                                <Card.Footer content={`Slot:[${sensor.slot && sensor.slot.slotNo}]`}\r\n                                             extra={sensor.slot && sensor.slot.id}/>\r\n                            </Card>\r\n                        </List.Item>))\r\n                    }\r\n                </List>\r\n                <FloatButton iconType=\"ellipsis\" onClick={() => this.showOperationActions()}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSensors();\r\n    }\r\n\r\n    toggleElabel(sensor, e) {\r\n        this.props.toggleSensorElable(sensor.id, e);\r\n    }\r\n\r\n    showOperationActions() {\r\n        const buttons = ['Reload Sensors', 'Cancel'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n            title: 'Operations',\r\n            options: buttons,\r\n            cancelButtonIndex: buttons.length - 1,\r\n            destructiveButtonIndex: 0,\r\n        }, index => {\r\n            if (index === 0) {\r\n                this.callReloadSensors();\r\n            }\r\n        })\r\n    }\r\n\r\n    callReloadSensors() {\r\n        Modal.alert('Reload', 'Are you sure to reload?',\r\n            [\r\n                {\r\n                    text: 'Yes', onPress: () => {\r\n                        reloadSensors().then(() => {\r\n                            Toast.show('Reload Success!', 1, false);\r\n                        })\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Cancel', onPress: () => {\r\n                        Toast.show('Cancel', 1, false);\r\n                    }\r\n                }\r\n            ]);\r\n    }\r\n}\r\n\r\nexport default connect(mapState2Props, mapAction2Props)(SensorSetting);\r\n","import React, {Component} from 'react';\r\nimport {Flex, Icon, List, WhiteSpace} from \"antd-mobile\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {setTabBarState, setTitle} from \"../../../store/actionCreators\";\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n        setTabBarState: (...args) => dispatch(setTabBarState(...args)),\r\n    };\r\n};\r\n\r\nclass SettingMenu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.props.setTitle('Setting');\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setTabBarState(true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"setting\">\r\n                <List renderHeader={() => 'Settings:'}>\r\n                    <List.Item onClick={() => this.go('/setting/sensor')}>\r\n                        <WhiteSpace/>\r\n                        <Flex justify=\"between\">\r\n                            <span>Sensors</span>\r\n                            <Icon type=\"right\"/>\r\n                        </Flex>\r\n                        <WhiteSpace/>\r\n                    </List.Item>\r\n                    <List.Item onClick={() => this.go('/setting/slot')}>\r\n                        <WhiteSpace/>\r\n                        <Flex justify=\"between\">\r\n                            <span>Slots</span>\r\n                            <Icon type=\"right\"/>\r\n                        </Flex>\r\n                        <WhiteSpace/>\r\n                    </List.Item>\r\n                    <List.Item onClick={() => this.go('/setting/connection')}>\r\n                        <WhiteSpace/>\r\n                        <Flex justify=\"between\">\r\n                            <span>Connections</span>\r\n                            <Icon type=\"right\"/>\r\n                        </Flex>\r\n                        <WhiteSpace/>\r\n                    </List.Item>\r\n                    <List.Item onClick={() => this.go('/setting/system')}>\r\n                        <WhiteSpace/>\r\n                        <Flex justify=\"between\">\r\n                            <span>System</span>\r\n                            <Icon type=\"right\"/>\r\n                        </Flex>\r\n                        <WhiteSpace/>\r\n                    </List.Item>\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    go(path) {\r\n        this.props.history.push({\r\n            pathname: path\r\n        });\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(null, mapAction2Props)(SettingMenu));\r\n","import React, {Component} from 'react';\r\nimport {ActionSheet, Flex, Icon, List, Toast} from 'antd-mobile';\r\nimport {doZeroAll, fetchAllSlots} from '../../../api/slot';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {setTabBarState, setTitle} from \"../../../store/actionCreators\";\r\nimport {connect} from 'react-redux';\r\nimport './SlotSetting.sass';\r\nimport FloatButton from '../../commons/FloatButton';\r\n\r\nconst OperationActions = ['Refresh', 'Do Zero All', 'Cancel'];\r\nconst {Item} = List;\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTabBarState: (...args) => dispatch(setTabBarState(...args)),\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n    }\r\n};\r\n\r\nclass SlotSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            slots: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setTabBarState(false);\r\n        this.props.setTitle('Slot Settings');\r\n        this.fetchSlots();\r\n    }\r\n\r\n    render() {\r\n        const {slots} = this.state;\r\n        return (\r\n            <div className=\"slotSetting\">\r\n                <List renderHeader={() => 'Slot List'}>\r\n                    {\r\n                        slots.map(slot => (\r\n                            <Item key={slot.id} extra={<Icon type=\"right\"/>} onClick={() => this.toSlotDetail(slot)}>\r\n                                <Flex justify=\"between\">\r\n                                    <span className=\"slotNo\">{slot.slotNo}</span>\r\n                                    <span className=\"name\">{slot.skuName}</span>\r\n                                </Flex>\r\n                            </Item>))\r\n                    }\r\n                </List>\r\n                <FloatButton iconType=\"ellipsis\" onClick={() => this.showOperationSheet()}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showOperationSheet() {\r\n        ActionSheet.showActionSheetWithOptions({\r\n            options: OperationActions,\r\n            title: 'Operations',\r\n            cancelButtonIndex: OperationActions.length - 1,\r\n            destructiveButtonIndex: 1,\r\n        }, index => {\r\n            switch (index) {\r\n                case 0:\r\n                    this.fetchSlots();\r\n                    break;\r\n                case 1:\r\n                    this.doZeroAll();\r\n                    break;\r\n                default:\r\n                // Do Nothing\r\n            }\r\n        })\r\n    }\r\n\r\n    toSlotDetail(slot) {\r\n        this.props.history.push({\r\n            pathname: `/setting/slot-detail/${slot.id}`,\r\n        });\r\n    }\r\n\r\n    doZeroAll() {\r\n        doZeroAll().then(() => {\r\n            Toast.show('All Zeroed!');\r\n        })\r\n    }\r\n\r\n    fetchSlots() {\r\n        fetchAllSlots().then(res => {\r\n            this.setState({slots: res})\r\n        })\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(null, mapAction2Props)(SlotSetting));\r\n","import {request} from './request';\r\n\r\nexport const doZeroAll = () => {\r\n    return request({\r\n        url: '/api/slot/zero-all',\r\n        method: 'post',\r\n    });\r\n};\r\n\r\nexport const zeroOne = slotNo => {\r\n    return request({\r\n        url: `/api/slot/${slotNo}/zero`,\r\n        method: 'post',\r\n    });\r\n};\r\n\r\n\r\nexport const fetchAllSlots = () => {\r\n    return request({\r\n        url: '/api/slot/',\r\n        method: 'get',\r\n    });\r\n};\r\n\r\nexport const fetchDetail = id => {\r\n    return request({\r\n        url: `/api/slot/${id}`,\r\n        method: 'get',\r\n    });\r\n};\r\n\r\n\r\nexport const updateSlot = slot => {\r\n    return request({\r\n        url: `/api/slot/${slot.id}`,\r\n        method: 'post',\r\n        data: slot\r\n    });\r\n};\r\n\r\n\r\nexport const toggleELabelState = option => {\r\n    return request({\r\n        url: `/api/slot/${option.id}/has-e-label`,\r\n        method: 'post',\r\n        data: {hasElabel: option.hasELabel},\r\n    });\r\n};\r\n","import React, {Component} from 'react';\r\nimport {asyncDeleteConnection, asyncFetchConnection, setTabBarState, setTitle} from '../../../store/actionCreators';\r\nimport {ActionSheet, Button, Flex, Icon, InputItem, List, Modal, Picker, Toast} from 'antd-mobile';\r\nimport {asConnectionType} from '../../../util/DataConvertor';\r\nimport './ConnectionSetting.sass'\r\nimport {createConnection, scanPort, scanDevice} from '../../../api/connection';\r\nimport {connect} from 'react-redux';\r\n\r\nconst ConnectionOperations = [\r\n    'Delete',\r\n    'Start Scan',\r\n    'Cancel',\r\n];\r\nconst connectionTypes = [\r\n    {\r\n        label: 'Serial',\r\n        value: 1,\r\n    },\r\n    {\r\n        label: 'Network',\r\n        value: 2,\r\n    }\r\n];\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        fetchConnection: (...args) => dispatch(asyncFetchConnection(...args)),\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n        deleteConnection: (...args) => dispatch(asyncDeleteConnection(...args)),\r\n        setTabBarState: (...args) => dispatch(setTabBarState(...args)),\r\n    };\r\n};\r\nconst mapState2Props = (state, props) => {\r\n    return {\r\n        ...props,\r\n        connections: state.connections,\r\n    };\r\n};\r\n\r\nclass ConnectionSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            createDialogVisible: false,\r\n            create: {\r\n                type: null,\r\n                target: ''\r\n            },\r\n            serialPorts: []\r\n        };\r\n        this.props.setTitle('Connection Setting');\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchConnection();\r\n        this.props.setTabBarState(false);\r\n    }\r\n\r\n    render() {\r\n        const {Item} = List;\r\n        const {connections} = this.props;\r\n        const {createDialogVisible} = this.state;\r\n        const {create} = this.state;\r\n        return (\r\n            <div>\r\n                <List renderHeader={() => 'Connections'}>\r\n                    {\r\n                        connections.map(connection => (\r\n                            <Item key={connection.id} extra={<Icon type=\"right\"/>}\r\n                                  onClick={() => this.showConnectionOperations(connection)}>\r\n                                <Flex justify=\"between\" className=\"connectionItem\">\r\n                                    <span className=\"type\">{asConnectionType(connection.type)}</span>\r\n                                    <span className=\"target\">{connection.target}</span>\r\n                                </Flex>\r\n                            </Item>))\r\n                    }\r\n                    <Item key=\"createButton\">\r\n                        <Button type=\"primary\" onClick={() => this.showCreateDialog()}>New</Button>\r\n                    </Item>\r\n                </List>\r\n                <Modal\r\n                    visible={createDialogVisible}\r\n                    transparent\r\n                    title=\"Create A Connection\"\r\n                    footer={[\r\n                        {text: 'Cancel', onPress: () => this.setState({createDialogVisible: false})},\r\n                        {text: 'Create', onPress: () => this.createConnection()},\r\n                    ]}\r\n                    maskClosable={true}>\r\n                    <List title=\"Connection\">\r\n                        <Picker data={connectionTypes} title=\"Connection Type\" cols={1}\r\n                                extra=\"Choose\"\r\n                                onChange={e => this.setCreateType(e)}>\r\n                            <List.Item>\r\n                                <InputItem value={create.type && asConnectionType(create.type)}\r\n                                           disabled={true}\r\n                                           placeholder=\"Type\"/>\r\n                            </List.Item>\r\n                        </Picker>\r\n                        {\r\n                            (() => {\r\n                                const input = (<List.Item key=\"target\"><InputItem placeholder=\"Connection Target\"\r\n                                                                                  onChange={e => this.setCreateTarget(e)}\r\n                                                                                  value={create.target}\r\n                                                                                  disabled={this.state.create.type === 1}/></List.Item>);\r\n                                if (create.type === 1) {\r\n                                    return (<Picker data={this.state.serialPorts}\r\n                                                    extra=\"Choose\"\r\n                                                    title=\"Serial Port List\"\r\n                                                    cols={1}\r\n                                                    onChange={arr => this.setCreateTargetSerial(arr)}>\r\n                                        {input}\r\n                                    </Picker>)\r\n                                } else {\r\n                                    return input;\r\n                                }\r\n                            })()\r\n                        }\r\n                    </List>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    deleteConnection(connection) {\r\n        Modal.alert('Delete Connection!', 'Are You Sure delete this connection',\r\n            [\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {\r\n                        Toast.show('Canceled', 1, false);\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Delete',\r\n                    onPress: () => {\r\n                        this.props.deleteConnection(connection.id);\r\n                    }\r\n                }\r\n            ]);\r\n    }\r\n\r\n    scanConnection(connection) {\r\n        Modal.alert('Scan Device!', 'Scan Devices for this Connection?',\r\n            [\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {\r\n                        Toast.show('Canceled', 1, false);\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Scan',\r\n                    onPress: () => {\r\n                        scanDevice(connection.id).then(() => {\r\n                            Toast.show('Scan Success!', 2, false)\r\n                        });\r\n                    }\r\n                }\r\n            ]);\r\n    }\r\n\r\n    showCreateDialog() {\r\n        this.setState({\r\n            createDialogVisible: true\r\n        })\r\n    }\r\n\r\n    createConnection() {\r\n        createConnection(this.state.create).then(() => {\r\n            this.props.fetchConnection();\r\n            this.setState({\r\n                create: {},\r\n                createDialogVisible: false,\r\n            });\r\n        })\r\n    }\r\n\r\n    setCreateType(types) {\r\n        if (types.length < 1) {\r\n            Toast.show('Please Choose A Connection Type!');\r\n        }\r\n        const type = types[0];\r\n        const newCreate = {\r\n            type,\r\n            target: ''\r\n        };\r\n        this.setState({create: newCreate});\r\n        if (type === 1 && this.state.serialPorts.length <= 0) {\r\n            scanPort().then(res => {\r\n                const serialPorts = [];\r\n                for (const port of res) {\r\n                    serialPorts.push({\r\n                        label: port,\r\n                        value: port,\r\n                    });\r\n                }\r\n                this.setState({serialPorts});\r\n            });\r\n        }\r\n    }\r\n\r\n    setCreateTarget(e) {\r\n        const create = {\r\n            ...this.state.create,\r\n            target: e,\r\n        };\r\n        this.setState({create});\r\n    }\r\n\r\n    setCreateTargetSerial(serialIndexList) {\r\n        if (!serialIndexList) {\r\n            Toast.show('Please Choose A Serial Port!');\r\n            return;\r\n        }\r\n        const port = serialIndexList[0];\r\n        const create = {\r\n            ...this.state.create,\r\n            target: port,\r\n        };\r\n        this.setState({create});\r\n    }\r\n\r\n    showConnectionOperations(connection) {\r\n        ActionSheet.showActionSheetWithOptions({\r\n            title: `${connection.target} Operations`,\r\n            options: ConnectionOperations,\r\n            cancelButtonIndex: ConnectionOperations.length - 1,\r\n            destructiveButtonIndex: 0,\r\n        }, index => {\r\n            switch (index) {\r\n                case 0:\r\n                    this.deleteConnection(connection);\r\n                    break;\r\n                case 1:\r\n                    this.scanConnection(connection);\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default connect(mapState2Props, mapAction2Props)(ConnectionSetting);\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {fetchDetail, toggleELabelState, updateSlot, zeroOne} from '../../../api/slot';\r\nimport {ActionSheet, Button, InputItem, List, Switch, Toast, WingBlank} from 'antd-mobile';\r\nimport {setTitle} from \"../../../store/actionCreators\";\r\nimport {connect} from 'react-redux';\r\nimport FloatButton from '../../commons/FloatButton';\r\n\r\nconst ActionButtons = [\r\n    'Do Zero',\r\n    'Delete',\r\n    'Cancel',\r\n];\r\nconst {Item} = List;\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n    }\r\n};\r\n\r\nclass SlotDetailSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            slot: {}\r\n        };\r\n        this.slotId = this.props.match.params.id;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setTitle(`${this.slotId} Settings`);\r\n        this.fetchSlotInfo();\r\n    }\r\n\r\n    fetchSlotInfo() {\r\n        fetchDetail(this.slotId).then(res => {\r\n            this.setState({slot: res});\r\n            this.props.setTitle(`${res.slotNo} Settings`);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {slot} = this.state;\r\n        return (\r\n            <div className=\"slotDetail\">\r\n                <List renderHeader={() => 'Slot Info'}>\r\n                    <Item key=\"slotNo\">\r\n                        <InputItem placeholder=\"Slot No\" value={slot.slotNo}\r\n                                   onChange={text => this.setUpdateSlotProp({slotNo: text})}>SlotNo</InputItem>\r\n                    </Item>\r\n                    <Item key=\"SkuName\">\r\n                        <InputItem placeholder=\"Sku Name\" value={slot.skuName}\r\n                                   onChange={text => this.setUpdateSlotProp({skuName: text})}>SKUName</InputItem>\r\n                    </Item>\r\n                    <Item key=\"skuNo\">\r\n                        <InputItem placeholder=\"SKU No\" value={slot.skuNo}\r\n                                   onChange={text => this.setUpdateSlotProp({skuNo: text})}>SKUNo</InputItem>\r\n                    </Item>\r\n                    <Item key=\"skuApw\">\r\n                        <InputItem placeholder=\"SKU Apw\" value={slot.skuApw}\r\n                                   type=\"number\"\r\n                                   onChange={text => this.setUpdateSlotProp({skuApw: text})}>Apw</InputItem>\r\n                    </Item>\r\n                    <Item key=\"skuTolerance\">\r\n                        <InputItem placeholder=\"SKU Tolerance\" value={slot.skuTolerance}\r\n                                   type=\"number\"\r\n                                   onChange={text => this.setUpdateSlotProp({skuTolerance: text})}>Tolerance</InputItem>\r\n                    </Item>\r\n                    <Item key=\"skuShelfLifeOpenDays\">\r\n                        <InputItem placeholder=\"SKU ShelfLifeOpenDays\" value={slot.skuShelfLifeOpenDays}\r\n                                   type=\"number\"\r\n                                   onChange={text => this.setUpdateSlotProp({skuShelfLifeOpenDays: text})}>\r\n                            SLO Days\r\n                        </InputItem>\r\n                    </Item>\r\n                    <Item key=\"applyBtn\">\r\n                        <WingBlank><Button type=\"primary\" onClick={() => this.applyModify()}>Apply\r\n                            Modify</Button></WingBlank>\r\n                    </Item>\r\n                </List>\r\n                <List renderHeader={() => 'ELabel'}>\r\n                    <List.Item\r\n                        key=\"hasELabel\"\r\n                        extra={<Switch\r\n                            checked={slot.hasElabel}\r\n                            onChange={state => this.toggleELabel(state)}\r\n                            platform=\"android\"/>}>\r\n                        Enable ELabel\r\n                    </List.Item>\r\n                </List>\r\n                <FloatButton iconType=\"ellipsis\" onClick={() => this.openOperation()}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    openOperation() {\r\n        ActionSheet.showActionSheetWithOptions({\r\n            title: 'Operations',\r\n            options: ActionButtons,\r\n            destructiveButtonIndex: 1,\r\n            cancelButtonIndex: ActionButtons.length - 1,\r\n        }, buttonIndex => {\r\n            const button = ActionButtons[buttonIndex];\r\n            if (button === 'Do Zero') {\r\n                this.doZero();\r\n            } else if (button === 'Delete') {\r\n                Toast.show('Unable To Delete!');\r\n            }\r\n        });\r\n    }\r\n\r\n    doZero() {\r\n        const {slot} = this.state;\r\n        zeroOne(slot.slotNo).then(() => {\r\n            Toast.show('Do Zero Success!');\r\n        });\r\n    }\r\n\r\n    setUpdateSlotProp(props) {\r\n        const slot = {\r\n            ...this.state.slot,\r\n            ...props\r\n        };\r\n        this.setState({slot});\r\n    }\r\n\r\n    applyModify() {\r\n        updateSlot(this.state.slot).then(() => {\r\n            Toast.show('Apply Success!');\r\n        });\r\n    }\r\n\r\n    toggleELabel(hasELabel) {\r\n        toggleELabelState({id: this.slotId, hasELabel}).then(() => {\r\n            Toast.show('Toggle ELabel Success!');\r\n            this.fetchSlotInfo();\r\n        });\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(null, mapAction2Props)(SlotDetailSetting));\r\n","import React, {Component} from 'react';\r\nimport {Button, List, Switch, Toast} from 'antd-mobile';\r\nimport {setEnableTabBarAction, setTitle} from '../../../store/actionCreators';\r\nimport {connect} from 'react-redux';\r\nimport {fetchSystemInfo} from '../../../api/dashboard';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n        setEnableTabBar: (...args) => dispatch(setEnableTabBarAction(...args)),\r\n    };\r\n};\r\nconst mapState2Props = (state, props) => {\r\n    return {\r\n        ...props,\r\n        enableTabBar: state.enableTabBar,\r\n    };\r\n};\r\n\r\nclass SystemSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            systemInfo: {},\r\n            killButtonState: true\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setTitle('System Infos');\r\n        fetchSystemInfo().then(res => {\r\n            this.setState({\r\n                systemInfo: res,\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {Item} = List;\r\n        const {systemInfo} = this.state;\r\n        const {enableTabBar} = this.props;\r\n        return (\r\n            <div className=\"systemSettings\">\r\n                <List renderHeader={() => 'System Infos'}>\r\n                    <Item key=\"appName\" extra={systemInfo.appName}>APPName</Item>\r\n                    <Item key=\"appVersion\" extra={systemInfo.appVersion}>APPVersion</Item>\r\n                    <Item key=\"dbVersion\" extra={systemInfo.dbVersion}>DBVersion</Item>\r\n                    <Item key=\"pid\" extra={systemInfo.pid}>ProcessID</Item>\r\n                    <Item key=\"kill\">\r\n                        <Button type=\"warning\" onClick={() => this.killProcess()}\r\n                                disabled={!this.state.killButtonState}>Kill Process</Button>\r\n                    </Item>\r\n                </List>\r\n                <List renderHeader={() => 'Settings'}>\r\n                    <Item extra={<Switch\r\n                        checked={enableTabBar}\r\n                        onChange={target => this.setEnableTabBar(target)}\r\n                        platform=\"android\"/>}>\r\n                        EnableTabBar\r\n                    </Item>\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    killProcess() {\r\n        Toast.show('Do not kill this process!', 1, false);\r\n        this.setState({\r\n            killButtonState: false\r\n        });\r\n    }\r\n\r\n    setEnableTabBar(target) {\r\n        this.props.setEnableTabBar(target);\r\n    }\r\n}\r\n\r\nexport default connect(mapState2Props, mapAction2Props)(SystemSetting);\r\n","import React, {Component} from 'react';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport SensorSetting from './setting/SensorSetting'\r\nimport SettingMenu from './setting/SettingMenu'\r\nimport SlotSetting from './setting/SlotSetting'\r\nimport ConnectionSetting from './setting/ConnectionSetting'\r\nimport SlotDetailSetting from './setting/SlotDetailSetting'\r\nimport SystemSetting from './setting/SystemSetting'\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n    };\r\n};\r\n\r\nclass Setting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/setting/\" component={SettingMenu} exact/>\r\n                    <Route path=\"/setting/sensor\" component={SensorSetting} exact/>\r\n                    <Route path=\"/setting/slot\" component={SlotSetting} exact/>\r\n                    <Route path=\"/setting/connection\" component={ConnectionSetting} exact/>\r\n                    <Route path=\"/setting/slot-detail/:id\" component={SlotDetailSetting} exact/>\r\n                    <Route path=\"/setting/system\" component={SystemSetting} exact/>\r\n                </Switch>\r\n            </Router>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, mapAction2Props)(Setting);\r\n","import React, {Component} from 'react';\r\nimport {Icon, Result, Toast} from \"antd-mobile\";\r\nimport {setTitle} from '../../store/actionCreators';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args))\r\n    }\r\n};\r\n\r\nclass Address extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.props.setTitle('Config Address');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Result\r\n                    img={<Icon type=\"check-circle\" size=\"lg\" style={{fill: '#1F90E6'}}/>}\r\n                    title=\"开发中\"\r\n                    message=\"开发中\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Toast.info('开发中',1, null, false);\r\n    }\r\n}\r\n\r\nexport default connect(null, mapAction2Props)(Address);\r\n","import React, {Component} from 'react';\r\nimport {Icon, Result, Toast} from 'antd-mobile';\r\nimport {setTitle} from \"../../store/actionCreators\";\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args))\r\n    }\r\n};\r\n\r\nclass Logs extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.props.setTitle('Logs');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Result\r\n                    img={<Icon type=\"check-circle\" size=\"lg\" style={{fill: '#1F90E6'}}/>}\r\n                    title=\"开发中\"\r\n                    message=\"开发中\"/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Toast.info('开发中',1, null, false);\r\n    }\r\n}\r\n\r\nexport default connect(null, mapAction2Props)(Logs);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {setTitle} from '../../store/actionCreators';\r\nimport {Carousel, NoticeBar, WhiteSpace, WingBlank} from 'antd-mobile';\r\nimport './About.sass';\r\n\r\nconst mapAction2Props = (dispatch, props) => {\r\n    return {\r\n        ...props,\r\n        setTitle: (...args) => dispatch(setTitle(...args)),\r\n    };\r\n};\r\n\r\nclass About extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drawerOpen: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setTitle('About');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"about\">\r\n                <NoticeBar marqueeProps={{loop: true,}}>磐石电气（常州）有限公司：http://www.monolith-iot.com</NoticeBar>\r\n                <WhiteSpace/>\r\n                <WingBlank>\r\n                    <Carousel\r\n                        autoplay={true}\r\n                        infinite\r\n                        className=\"headerCarousel\"\r\n                    >\r\n                        <div className=\"carouselItem\" style={{backgroundColor: '#FF9808'}}>\r\n                            <div className=\"title\">\r\n                                磐石电气（常州）有限公司\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"carouselItem\" style={{backgroundColor: '#3171FA'}}>\r\n                            <div className=\"title\">\r\n                                MonolithIoT\r\n                            </div>\r\n                        </div>\r\n                    </Carousel>\r\n                </WingBlank>\r\n                <WingBlank className=\"article\">\r\n                    <h1 className=\"title\">关于我们</h1>\r\n                    <div className=\"text\">\r\n                        <p>\r\n                            磐石电气(常州)有限公司,是一家高科技智能测量装备研发及生产企业，把传统体积，重量的测量数字化物联网化，可以与WMS,ERP，SAP等企业管理软件相结合，便于企业更直观的管理自己的仓储，物流等。磐石电气下设研发部，工程部，业务部，有较强的设计，研发和生产能力，可为客户提供嵌入式计算机系统产品设计，开发，系统集成，工程实施等服务。\r\n                        </p>\r\n                        <p>\r\n                            随着公司的发展，主要产品有自主研发的智能数字卷尺，智能手动叉车秤，安卓智能称重终端，静态/动态DWS等各种物联网类智能称重量方设备及软件定制系统,可为客户最大程度地提供智能化系统化的测量系统解决方案。产品广泛应用于快递物流、生鲜供应、港口订舱、仓储、工业离散制造及各种以长度(含面\r\n                            积、体积)测量为手段的民用、商用用途中。凭着可靠的产品质量和良好的售后服务，我公司已与顺丰、中国邮政、京东、国际快递DHL、华为等多家知名企业合作。\r\n                        </p>\r\n                        <p>\r\n                            目前公司已申请中国专利24项,美国专利1项，并拥有一支以博士、硕士为主的优秀研发团队，具有较高的研发能力和管理水平，现有多名员工曾在外企作为技术骨干，承传欧美设计制造理念，并采用先进的产品生命周期管理（PLM），重视产品质量，为公司产品的技术引领、技术创新和公司的可持续发展奠定了坚实基础。\r\n                        </p>\r\n                    </div>\r\n                </WingBlank>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, mapAction2Props)(About);\r\n","import React, {Component} from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Dashboard from './content/Dashboard'\r\nimport Setting from './content/Setting';\r\nimport Address from './content/Address';\r\nimport Logs from './content/Logs';\r\nimport About from './content/About';\r\nimport './AppContent.sass';\r\n\r\nclass AppContent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"appContent\">\r\n                <div className=\"headerMask\"/>\r\n                <Switch>\r\n                    <Route path=\"/\" component={Dashboard} exact/>\r\n                    <Route path=\"/setting**\" component={Setting} exact/>\r\n                    <Route path=\"/address\" component={Address} exact/>\r\n                    <Route path=\"/logs\" component={Logs} exact/>\r\n                    <Route path=\"/about\" component={About} exact/>\r\n                </Switch>\r\n                <div className=\"tabBarMask\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppContent;\r\n","import React, {Component} from 'react';\r\nimport {Icon, NavBar, Popover} from \"antd-mobile\";\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom'\r\nimport './AppHeader.sass';\r\n\r\nconst mapState2Props = (state, props) => {\r\n    return {\r\n        ...props,\r\n        title: state.globalTitle,\r\n    };\r\n};\r\n\r\nclass AppHeader extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            popoverVisible: false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {title} = this.props;\r\n        return (\r\n            <div className=\"appHeader\">\r\n                <NavBar\r\n                    leftContent={<Icon type=\"left\" onClick={() => this.onBackClick()}/>}\r\n                    rightContent={this.rightContent()}\r\n                    mode=\"light\"\r\n                >{title}</NavBar>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    rightContent() {\r\n        const {popoverVisible} = this.state;\r\n        const Item = Popover.Item;\r\n        return (<Popover mask\r\n                         visible={popoverVisible}\r\n                         overlay={[\r\n                             (<Item key=\"about\" value=\"about\"\r\n                                    data-seed=\"logId\">About</Item>),\r\n                             (<Item key=\"settings\" value=\"settings\"\r\n                                    style={{whiteSpace: 'nowrap'}}>Settings</Item>),\r\n                         ]}\r\n                         onSelect={e => this.onPopoverSelect(e)}\r\n        >\r\n            <Icon type=\"ellipsis\"/>\r\n        </Popover>);\r\n    }\r\n\r\n    onBackClick() {\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    onPopoverSelect(e) {\r\n        switch (e.key) {\r\n            case 'about':\r\n                this.props.history.push({\r\n                    pathname: '/about',\r\n                });\r\n                break;\r\n            case 'settings':\r\n                this.props.history.push({\r\n                    pathname: '/setting/',\r\n                });\r\n                break\r\n        }\r\n        this.setState({\r\n            popoverVisible: false\r\n        });\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapState2Props)(AppHeader));\r\n","import {createBrowserHistory} from 'history';\r\nimport {setRouterPath} from '../store/actionCreators'\r\nimport store from '../store';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst notifyPathChanged = location => {\r\n    const info = {\r\n        pathname: location.pathname,\r\n        search: location.search,\r\n        hash: location.hash\r\n    };\r\n    const action = setRouterPath(info);\r\n    store.dispatch(action);\r\n};\r\nhistory.listen((action) => {\r\n    notifyPathChanged(action.location);\r\n});\r\n\r\n\r\nnotifyPathChanged(history.location);\r\nexport default history;\r\n","import React from 'react'\nimport './App.css'\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport AppTabBar from './component/AppTabBar'\nimport AppContent from './component/AppContent'\nimport AppHeader from './component/AppHeader'\nimport {HashRouter as Router} from 'react-router-dom'\nimport history from './util/History'\nimport {fetchEnableTabBarAction} from './store/actionCreators';\n\nclass App extends React.Component {\n    componentDidMount() {\n        store.dispatch(fetchEnableTabBarAction());\n    }\n\n    render() {\n        return (\n            <Router history={history}>\n                <Provider store={store}>\n                    <div className=\"app-content\">\n                        <AppHeader/>\n                        <AppContent/>\n                        <AppTabBar/>\n                    </div>\n                </Provider>\n            </Router>)\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    /*{<React.StrictMode>}*/\n    <App/>,\n    /*</React.StrictMode>,*/\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}